<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="2.1" xmlns:xmi="http://schema.omg.org/spec/XMI/2.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:CDA="http:///schemas/CDA/_l1UWoKFdEd6NOYTVzzK9uw/3" xmlns:Default="http:///schemas/Default/1" xmlns:Ecore="http://www.eclipse.org/uml2/schemas/Ecore/5" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/3.0.0/UML" xsi:schemaLocation="http:///schemas/CDA/_l1UWoKFdEd6NOYTVzzK9uw/3 pathmap://CDA_PROFILES/CDA.profile.uml#_l1U9sKFdEd6NOYTVzzK9uw http:///schemas/Default/1 pathmap://UML2_MSL_PROFILES/Default.epx#_IN8k8MmBEdqBcN1R6EvWUw?Default/Default? http://www.eclipse.org/uml2/schemas/Ecore/5 pathmap://UML_PROFILES/Ecore.profile.uml#_z1OFcHjqEdy8S4Cr8Rc_NA">
  <uml:Package xmi:id="_qQyD8jxVEd6JwqSGecoePg" name="pilot">
    <packageImport xmi:id="_-xRsgDxVEd6JwqSGecoePg">
      <importedPackage href="../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_ii81kjxVEd6JwqSGecoePg"/>
    </packageImport>
    <packagedElement xmi:type="uml:Class" xmi:id="_wDMM0GEHEd6bFO5yxRh3Nw" name="TuberculosisFollowUpProgressNote">
      <ownedRule xmi:id="_3Z2mAAxpEd-gR9nJK3sp7g" name="TuberculosisFollowUpProgressNotePatientNames" constrainedElement="_wDMM0GEHEd6bFO5yxRh3Nw">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_AqRogAxqEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>self.recordTarget.patientRole.patient.name->exists(&#xD;&#xA;   name : datatypes::PN | not name.given->isEmpty() and not name.family->isEmpty())</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_3nkgYQ0CEd-gR9nJK3sp7g" name="TuberculosisFollowUpProgressNoteTemplateId" constrainedElement="_wDMM0GEHEd6bFO5yxRh3Nw">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3nkgYg0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>self.hasTemplateId('2.16.840.1.113883.10.20.15.2.6.1.1.1.1.1.2.3')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_3pfL8A0CEd-gR9nJK3sp7g" name="TuberculosisFollowUpProgressNoteTBResultsSection" constrainedElement="_wDMM0GEHEd6bFO5yxRh3Nw">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3pfL8Q0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>self.getSections()->one(section : cda::Section | section.oclIsKindOf(pilot::TBResultsSection))</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_ZyMtMKX2Ed6JRdOhEffuGA">
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_S9OzADxXEd6JwqSGecoePg"/>
      </generalization>
    </packagedElement>
    <packagedElement xmi:type="uml:Class" xmi:id="_Ucv9YKX0Ed6JRdOhEffuGA" name="TBResultOrganizer">
      <ownedComment xmi:id="_Ucv9YaX0Ed6JRdOhEffuGA" annotatedElement="_Ucv9YKX0Ed6JRdOhEffuGA">
        <body>&lt;p>&#xD;
    &lt;font size=&quot;2&quot;>CCD represents the ASTM CCR &amp;lt;Purpose&amp;gt; object as a relationship between two classes â€“ the source&#xD;
    represents the act of creating a summary document, the target is the reason for creating the document, and the&#xD;
    relationship type is &quot;RSON&quot; (has reason). The target act may be an Observation, Procedure, or some other kind of act,&#xD;
    and it may represent an order, an event, etc.&lt;/font>&#xD;
&lt;/p></body>
      </ownedComment>
      <ownedRule xmi:id="_3oqskA0CEd-gR9nJK3sp7g" name="TBResultOrganizerTemplateId" constrainedElement="_Ucv9YKX0Ed6JRdOhEffuGA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3oqskQ0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>self.hasTemplateId('2.16.840.1.113883.10.20.15.3.21')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_3pJNsA0CEd-gR9nJK3sp7g" name="TBResultOrganizerCode" constrainedElement="_Ucv9YKX0Ed6JRdOhEffuGA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3pJNsQ0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>not self.code.oclIsUndefined() and self.code.oclIsKindOf(datatypes::CD) and &#xD;&#xA;let value : datatypes::CD = self.code.oclAsType(datatypes::CD) in (&#xD;&#xA;value.codeSystem = '2.16.840.1.114222.4.11.3205')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_3qM9oA0CEd-gR9nJK3sp7g" name="TBResultOrganizerTBResultObservation" constrainedElement="_Ucv9YKX0Ed6JRdOhEffuGA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3qM9oQ0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>self.component->one(component : cda::Component4 | component.observation.oclIsKindOf(pilot::TBResultObservation))</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_Pl-JwKX2Ed6JRdOhEffuGA">
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda.ccd/model/ccd_Ecore.uml#_Ht_RsHDAEd6eItyqb1FoWg"/>
      </generalization>
    </packagedElement>
    <packagedElement xmi:type="uml:Class" xmi:id="_Ucv9baX0Ed6JRdOhEffuGA" name="TBResultsSection">
      <ownedComment xmi:id="_Ucv9bqX0Ed6JRdOhEffuGA" annotatedElement="_Ucv9baX0Ed6JRdOhEffuGA">
        <body>&lt;p align=&quot;left&quot;>&#xD;
    &lt;font size=&quot;2&quot;>Represents the specific reason for which the summarization was generated, such as in response to a&#xD;
    request.&lt;/font>&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
    &lt;font size=&quot;2&quot;>The general use case does not require a purpose. Purpose should be utilized when the CCD has a specific&#xD;
    purpose such as a transfer, referral, or patient request.&lt;/font>&#xD;
&lt;/p></body>
      </ownedComment>
      <ownedRule xmi:id="_3pLC4A0CEd-gR9nJK3sp7g" name="TBResultsSectionTemplateId" constrainedElement="_Ucv9baX0Ed6JRdOhEffuGA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3pLC4Q0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>self.hasTemplateId('2.16.840.1.113883.10.20.15.2.6')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_3pcvsA0CEd-gR9nJK3sp7g" name="TBResultsSectionCode" constrainedElement="_Ucv9baX0Ed6JRdOhEffuGA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3pdWwA0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>not self.code.oclIsUndefined() and self.code.oclIsKindOf(datatypes::CE) and &#xD;&#xA;let value : datatypes::CE = self.code.oclAsType(datatypes::CE) in (&#xD;&#xA;value.code = '30954-2' and value.codeSystem = '2.16.840.1.113883.6.1')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_3pdWwQ0CEd-gR9nJK3sp7g" name="TBResultsSectionText" constrainedElement="_Ucv9baX0Ed6JRdOhEffuGA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3pdWwg0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>not self.text.oclIsUndefined()</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_3pek4A0CEd-gR9nJK3sp7g" name="TBResultsSectionTitle" constrainedElement="_Ucv9baX0Ed6JRdOhEffuGA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3pek4Q0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>self.title.getText() = 'Relevant diagnostic tests and/or laboratory data'</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_3pek4g0CEd-gR9nJK3sp7g" name="TBResultsSectionTBResultOrganizer" constrainedElement="_Ucv9baX0Ed6JRdOhEffuGA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3pek4w0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>self.entry->exists(entry : cda::Entry | entry.organizer.oclIsKindOf(pilot::TBResultOrganizer))</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_3qMWkA0CEd-gR9nJK3sp7g" name="TBResultsSectionTBResultObservation" constrainedElement="_Ucv9baX0Ed6JRdOhEffuGA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3qMWkQ0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>self.entry->exists(entry : cda::Entry | entry.observation.oclIsKindOf(pilot::TBResultObservation))</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_Ucv9b6X0Ed6JRdOhEffuGA">
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda.ccd/model/ccd_Ecore.uml#_7TVToIiAEd66cKocspyVOg"/>
      </generalization>
    </packagedElement>
    <packagedElement xmi:type="uml:Class" xmi:id="_DQh14AxmEd-gR9nJK3sp7g" name="TBResultObservation">
      <ownedRule xmi:id="_3pfzAA0CEd-gR9nJK3sp7g" name="TBResultObservationTemplateId" constrainedElement="_DQh14AxmEd-gR9nJK3sp7g">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3pfzAQ0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>self.hasTemplateId('2.16.840.1.113883.10.20.15.3.13')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_3qKhYA0CEd-gR9nJK3sp7g" name="TBResultObservationClassCode" constrainedElement="_DQh14AxmEd-gR9nJK3sp7g">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3qKhYQ0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>self.classCode=vocab::ActClassObservation::OBS</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_3qLIcA0CEd-gR9nJK3sp7g" name="TBResultObservationCode" constrainedElement="_DQh14AxmEd-gR9nJK3sp7g">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3qLIcQ0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>not self.code.oclIsUndefined() and self.code.oclIsKindOf(datatypes::CD) and &#xD;&#xA;let value : datatypes::CD = self.code.oclAsType(datatypes::CD) in (&#xD;&#xA;value.codeSystem = '2.16.840.1.114222.4.11.3205')</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_3qLvgA0CEd-gR9nJK3sp7g" name="TBResultObservationStatusCode" constrainedElement="_DQh14AxmEd-gR9nJK3sp7g">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_3qLvgQ0CEd-gR9nJK3sp7g">
          <language>OCL</language>
          <body>not self.statusCode.oclIsUndefined() and self.statusCode.oclIsKindOf(datatypes::CS) and &#xD;&#xA;let value : datatypes::CS = self.statusCode.oclAsType(datatypes::CS) in (&#xD;&#xA;value.code = 'completed' and value.codeSystem = '2.16.840.1.113883.5.14')</body>
        </specification>
      </ownedRule>
      <generalization xmi:id="_DQjrEAxmEd-gR9nJK3sp7g">
        <general xmi:type="uml:Class" href="../../org.openhealthtools.mdht.uml.cda.ccd/model/ccd_Ecore.uml#_MQHZEHDAEd6eItyqb1FoWg"/>
      </generalization>
    </packagedElement>
    <profileApplication xmi:id="_qQyD9zxVEd6JwqSGecoePg">
      <eAnnotations xmi:id="_qQyD-DxVEd6JwqSGecoePg" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UML_PROFILES/Standard.profile.uml#_yzU58YinEdqtvbnfB2L_5w"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UML_PROFILES/Standard.profile.uml#_0"/>
    </profileApplication>
    <profileApplication xmi:id="_SMdMMJmzEd6BO7rW3XxHIA">
      <eAnnotations xmi:id="_SMdzQJmzEd6BO7rW3XxHIA" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://CDA_PROFILES/CDA.profile.uml#_l1U9sKFdEd6NOYTVzzK9uw"/>
      </eAnnotations>
      <appliedProfile href="pathmap://CDA_PROFILES/CDA.profile.uml#_cxOJEIEVEd6H8o-hO3-B4Q"/>
    </profileApplication>
    <profileApplication xmi:id="_3jaZIA0CEd-gR9nJK3sp7g">
      <eAnnotations xmi:id="_3jaZIQ0CEd-gR9nJK3sp7g" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UML_PROFILES/Ecore.profile.uml#_z1OFcHjqEdy8S4Cr8Rc_NA"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UML_PROFILES/Ecore.profile.uml#_0"/>
    </profileApplication>
  </uml:Package>
  <CDA:CDATemplate xmi:id="_1dDy4JmOEd6T5tg3G_f09Q" message="TBPN Tuberculosis Follow Up Progress Note SHALL contain the template identifier 2.16.840.1.113883.10.20.15.2.6.1.1.1.1.1.2.3" base_Class="_wDMM0GEHEd6bFO5yxRh3Nw" templateId="2.16.840.1.113883.10.20.15.2.6.1.1.1.1.1.2.3" assigningAuthorityName="HL7"/>
  <CDA:CDATemplate xmi:id="_Uc5uYKX0Ed6JRdOhEffuGA" message="TBPN TB Result Organizer SHALL contain the template identifier 2.16.840.1.113883.10.20.15.3.21" base_Class="_Ucv9YKX0Ed6JRdOhEffuGA" templateId="2.16.840.1.113883.10.20.15.3.21" assigningAuthorityName="HL7"/>
  <Default:Documentation xmi:id="_Uc5uYaX0Ed6JRdOhEffuGA" base_Comment="_Ucv9YaX0Ed6JRdOhEffuGA"/>
  <CDA:PropertyValidation xmi:id="_Uc5uZKX0Ed6JRdOhEffuGA" message="My activity @classCode SHALL be 'ACT' 2.16.840.1.113883.5.6 ActClass STATIC."/>
  <CDA:PropertyValidation xmi:id="_Uc5uZaX0Ed6JRdOhEffuGA" message="My Activity @moodCode SHALL be 'EVN' 2.16.840.1.113883.5.1001 ActMood STATIC."/>
  <CDA:VocabSpecification xmi:id="_Uc5uZqX0Ed6JRdOhEffuGA" message="My Activity SHALL contain exactly one Act / code, with a value of '23745001' 'Documentation procedure' 2.16.840.1.113883.6.96 SNOMED CT STATIC." code="23745001" codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMED CT" displayName="Documentation procedure"/>
  <CDA:VocabSpecification xmi:id="_Uc5uZ6X0Ed6JRdOhEffuGA" message="My Activity SHALL contain exactly one Act / statusCode. The value for 'Act / statusCode' in a My Activity SHALL be 'completed' 2.16.840.1.113883.5.14 ActStatus STATIC." code="completed" codeSystem="2.16.840.1.113883.5.14" codeSystemName="ActStatus"/>
  <CDA:CDATemplate xmi:id="_Uc5uaaX0Ed6JRdOhEffuGA" message="TBPN TB Results Section SHALL contain the template identifier 2.16.840.1.113883.10.20.15.2.6" base_Class="_Ucv9baX0Ed6JRdOhEffuGA" templateId="2.16.840.1.113883.10.20.15.2.6" assigningAuthorityName="HL7"/>
  <Default:Documentation xmi:id="_Uc5uaqX0Ed6JRdOhEffuGA" base_Comment="_Ucv9bqX0Ed6JRdOhEffuGA"/>
  <CDA:VocabSpecification xmi:id="_Uc5ua6X0Ed6JRdOhEffuGA" message="The value for My Activity code SHALL be 48764-5' 'Summary purpose' 2.16.840.1.113883.6.1 LOINC STATIC." code="48764-5" codeSystem="2.16.840.1.113883.6.1" codeSystemName="LOINC" displayName="Summary purpose"/>
  <CDA:TextValue xmi:id="_xJaggK0jEd6_kOk8Ilc2Dw" message="My Section SHALL contain a title."/>
  <CDA:CDATemplate xmi:id="_QfGwAAxmEd-gR9nJK3sp7g" message="TBPN TB Result Observation SHALL contain the template identifier 2.16.840.1.113883.10.20.15.3.13" base_Class="_DQh14AxmEd-gR9nJK3sp7g" templateId="2.16.840.1.113883.10.20.15.3.13" assigningAuthorityName="HL7"/>
  <Ecore:EPackage xmi:id="_3lxwoA0CEd-gR9nJK3sp7g" base_Package="_qQyD8jxVEd6JwqSGecoePg" packageName="pilot" nsPrefix="pilot" nsURI="http://www.openhealthtools.org/mdht/uml/cda/pilot" basePackage="org.openhealthtools.mdht.uml.cda" prefix="TBPN"/>
  <Ecore:EClass xmi:id="_3nkgYA0CEd-gR9nJK3sp7g" xmlName="ClinicalDocument" base_Class="_wDMM0GEHEd6bFO5yxRh3Nw">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation templateId.root='2.16.840.1.113883.10.20.15.2.6.1.1.1.1.1.2.3' constraints.validation.error='TuberculosisFollowUpProgressNoteTemplateId TuberculosisFollowUpProgressNotePatientNames TuberculosisFollowUpProgressNoteTBResultsSection'</annotation>
  </Ecore:EClass>
  <Ecore:EClass xmi:id="_3oqskg0CEd-gR9nJK3sp7g" base_Class="_Ucv9YKX0Ed6JRdOhEffuGA">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation code.codeSystem='2.16.840.1.114222.4.11.3205' templateId.root='2.16.840.1.113883.10.20.15.3.21' constraints.validation.error='TBResultOrganizerTemplateId TBResultOrganizerCode TBResultOrganizerTBResultObservation' code.codeSystemName='Lab Test Result Name (TB)'</annotation>
  </Ecore:EClass>
  <Ecore:EClass xmi:id="_3pMRAA0CEd-gR9nJK3sp7g" base_Class="_Ucv9baX0Ed6JRdOhEffuGA">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation title.mixed='Relevant diagnostic tests and/or laboratory data' code.codeSystem='2.16.840.1.113883.6.1' code.displayName='Relevant diagnostic tests and/or laboratory data' templateId.root='2.16.840.1.113883.10.20.15.2.6' constraints.validation.error='TBResultsSectionTemplateId TBResultsSectionCode TBResultsSectionText TBResultsSectionTitle' code.codeSystemName='LOINC' code.code='30954-2' constraints.validation.info='TBResultsSectionTBResultOrganizer TBResultsSectionTBResultObservation'</annotation>
  </Ecore:EClass>
  <Ecore:EClass xmi:id="_3pfzAg0CEd-gR9nJK3sp7g" base_Class="_DQh14AxmEd-gR9nJK3sp7g">
    <annotation>http://www.openhealthtools.org/mdht/uml/cda/annotation statusCode.code='completed' code.codeSystem='2.16.840.1.114222.4.11.3205' templateId.root='2.16.840.1.113883.10.20.15.3.13' constraints.validation.error='TBResultObservationTemplateId TBResultObservationClassCode TBResultObservationCode TBResultObservationStatusCode' code.codeSystemName='Lab Test Result Name (TB)' classCode='OBS' statusCode.codeSystem='2.16.840.1.113883.5.14' statusCode.codeSystemName='HL7ActStatus'</annotation>
  </Ecore:EClass>
</xmi:XMI>
